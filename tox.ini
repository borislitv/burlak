[tox]
envlist =   flake8,
            # py26,
            py27
skip_missing_interpeters = True
deps = python-debian

[flake8]
exclude = .tox,.git,*.egg/,conf/,debian/,docs/,deb_dist

[testenv]
# Install eggs
install_command = pip install {opts} {packages}
deps        = -rtests/requirements.txt
commands    =   coverage run --source src/cocaine/burlak \
                    --omit 'src/cocaine/burlak/sched_load/*','src/cocaine/burlak/__main__.py' \
                    setup.py test
                coverage report

[testenv:flake8]
install_command = pip install {opts} {packages}
deps        = flake8
            flake8-import-order
            flake8-blind-except
            pep8-naming
            python-debian
commands    = flake8 {toxinidir}
